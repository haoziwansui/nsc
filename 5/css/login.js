function Login(){var j=this;var u={maxFontSize:20,miniFontSize:12,zoomSpeed:1};var h=12;var o=null;var f=10;var c={LEFT:37,UP:38,RIGHT:39,DOWN:40,PAGEUP:33,PAGEDOWN:34,RETURN:13,ESC:27,TAB:9};this.init=function(){if(document.getElementById("pop")){document.getElementById("pop").style.display="none"}if(document.getElementById("user")){v();l()}if(document.getElementById("box")){var B=getCookie("empos")-0;var A=(B===0?"right":"left");d(A);w()}};function t(C,B,D){if(!C){return}var A=function(E){if(false===D.apply(C,[E])){if(E.preventDefault){E.preventDefault()}return false}};if(C.addEventListener){C.addEventListener(B,A,false)}else{C.attachEvent("on"+B,A)}}function l(){obj=document.getElementById("user");t(obj,"keydown",z);t(obj,"blur",function(){setTimeout(function(){if(document.getElementById("pop")){document.getElementById("pop").style.display="none"}if(obj.empty!=1){e()}},50)})}function z(B){var D=window.event||B;var C=D.keyCode||D.which;var A=document.getElementById("pop");switch(C){case c.TAB:case c.DOWN:if(A.style.display==="none"){return}r();return false;break;case c.UP:if(A.style.display==="none"){return}g();return false;break;case c.PAGEDOWN:if(A.style.display==="none"){return}p();return false;break;case c.PAGEUP:if(A.style.display==="none"){return}a();return false;break;case c.LEFT:case c.RIGHT:break;case c.ESC:if(A.style.display==="none"){return}that.hide(true);return false;break;case c.RETURN:if(A.style.display==="none"){return}m();return false;break;default:setTimeout(function(){e();i()},50);break}}function s(A){A+="";return A;return A.replace(/^\s*/,"").replace(/\s*$/,"")}function y(B,A){B=String(B).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");switch(A){case"ENT_QUOTES":B=B.replace(/"/g,"&quot;").replace(/'/g,"&#039;");break;case"ENT_NOQUOTES":break;case"ENT_COMPAT":default:B=B.replace(/"/g,"&quot;");break}return B}function v(){if(o){return false}var A=document.getElementById("user");var B=document.createElement("div");B.style.position="absolute";B.style.left="-1000px";B.style.top="-1000px";o=B;B.style.fontFamily=x(A,"fontFamily",false);B.style.fontWeight=x(A,"fontWeight",false);document.body.appendChild(B);A.style.fontSize=u.maxFontSize+"px"}function e(){var E=document.getElementById("user");E.empty=0;var D=o;D.innerHTML=s(E.value);var F=parseInt(E.style.fontSize);D.style.fontSize=F+"px";var A=D.offsetWidth;var B=E.offsetWidth-h;while(true){if(A>B){if(F==u.miniFontSize){break}var C=F-u.zoomSpeed;D.style.fontSize=C+"px";if(D.offsetWidth<B){F=C;break}A=D.offsetWidth;F=C}else{if(F==u.maxFontSize){break}var C=F+u.zoomSpeed;D.style.fontSize=C+"px";if(D.offsetWidth>B){break}A=D.offsetWidth;F=C}}if(E.value==""){F=u.maxFontSize;E.empty=1}E.style.fontSize=F+"px"}function x(D,A,C){C=(C==undefined?false:C);if(window.getComputedStyle){var B=window.getComputedStyle(D,null)}else{var B=D.currentStyle}if(C){return parseInt(B[A])}else{return B[A]}}function i(){var E=s(document.getElementById("user").value);var D=[];var A=domainList.length;for(var C=0;C<A;C++){if(E.indexOf("@")==-1){D.push(domainList[C])}else{var B=E.split("@");if(B[0]==""){break}if(B[1]==""){D.push(domainList[C])}else{if(domainList[C].indexOf(B[1])!=-1){D.push(domainList[C])}}}}k(D)}function k(F){popDiv=document.getElementById("pop");if(!popDiv){return false}if(!F||F.length==0){popDiv.style.display="none";return false}popDiv.style.display="";popDiv.innerHTML="";var G="";var E=document.getElementById("user");var D=s(E.value);if(D==""||E.empty==1){popDiv.style.display="none";return false}if(D.indexOf("@")!=-1){var A=D.split("@")[0]}else{var A=D}var H=F.length;if(f>0&&H>f){H=f}for(var C=0;C<H;C++){var B=y(A+"@"+F[C]);var I='selected="0"';if(C==0){I='class="first" selected="1"'}G+="<p "+I+' data="'+B+"\" onmousedown=\"javascript:document.getElementById('user').value = this.getAttribute('data');this.parentNode.style.display='none';\"><a href=\"javascript:void(0);\">"+B+"</a></p>"}popDiv.innerHTML=G}function q(){var C=document.getElementById("pop").getElementsByTagName("p");var A=C.length;for(var B=0;B<A;B++){if(C[B].getAttribute("selected")=="1"){return C[B]}}return null}function n(C){var D=document.getElementById("pop").getElementsByTagName("p");var A=D.length;for(var B=0;B<A;B++){D[B].className="";D[B].setAttribute("selected",0)}C.className="first";C.setAttribute("selected","1")}function r(){var A=q();if(A.nextSibling){n(A.nextSibling)}else{a()}}function a(){var A=document.getElementById("pop").getElementsByTagName("p");if(A.length>0){n(A[0])}}function g(){var A=q();if(A.previousSibling){n(A.previousSibling)}else{p()}}function p(){var B=document.getElementById("pop").getElementsByTagName("p");var A=B.length;if(A>0){n(B[A-1])}}function m(A){if(!A){A=q()}if(!A){return false}var B=A.getAttribute("data");document.getElementById("user").value=B;setTimeout(function(){document.getElementById("pop").style.display="none";e()},50)}function b(){var I=this;var L=null;var W=null;var R=null;var Z=null;var Y=-1;var Q=null;var M=9999;var A=false;var X={};var E=1;var K=[];var H;var B=false;var C=false;var V=true;var P=[];var F=[];var S=[];var aa=null;var G=null;var U=null;var T=null;var J=null;var N=null;var O=null;var D=null;this.getMousePosition=function(ab){if(ab.pageX||ab.pageY){return[ab.pageX,ab.pageY]}else{return[ab.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),ab.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)]}};this.getPosition=function(ac){if(ac.getBoundingClientRect()){if(ac.tagName==="BODY"){return[0,0]}var ae=ac.getBoundingClientRect();return[ae.left+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),ae.top+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)]}var ab=0;var ad=0;while(ac.offsetParent){ab+=ac.offsetLeft;ad+=ac.offsetTop;ac=ac.offsetParent}ab+=ac.offsetLeft;ad+=ac.offsetTop;return[ab,ad]};this.mouseMove=function(aj){if(!V){return}aj=aj||window.event;var al=I.getMousePosition(aj);if(!B){return}if(false===C){if(Math.max(Math.abs(al[0]-K[0]),Math.abs(al[1]-K[1]))<E){return}else{var an=H;C=true;R=I.getMouseOffset(an,aj);P=I.getPosition(an);if(typeof G==="function"){G(aj,an)}if(typeof(aa)==="function"){W=aa(an)}else{if(aa==="clone"){W=an.cloneNode(true);an.parentNode.appendChild(W)}else{W=an}}if(typeof(Q)==="function"){S=Q()}if(A){M++}W.style.position="absolute";W.style.zIndex=M;H=null}}if(!W){return}if(X.left!==undefined){R[0]=X.left-0}else{if(X.right!==undefined){R[0]=W.offsetWidth-X.right}}if(X.top!==undefined){R[1]=X.top-0}else{if(X.bottom!==undefined){R[1]=W.offsetHeight-X.bottom}}if(typeof(D)==="function"){var af=D(P,[al[0]-R[0],al[1]-R[1]],W);W.style.top=af[1]+"px";W.style.left=af[0]+"px"}else{W.style.top=al[1]-R[1]+"px";W.style.left=al[0]-R[0]+"px"}if(typeof U==="function"){U(aj,W)}var ac=S.length;var am=false;var ah=Y;Z=null;Y=null;var ag=I.getPosition(W);var ak=parseInt(W.offsetWidth);var ap=parseInt(W.offsetHeight);for(var ae=0;ae<ac;ae++){var ad=S[ae];if(ad.getAttribute("_dragIngore")){continue}var ai=I.getPosition(ad);var ab=parseInt(ad.offsetWidth);var ao=parseInt(ad.offsetHeight);if(false===am&&(!(ag[0]>ai[0]+ab||ag[0]+ak<ai[0])&&!(ag[1]>ai[1]+ao||ag[1]+ap<ai[1]))&&(Math.min(ai[0]+ab,ag[0]+ak)-Math.max(ai[0],ag[0])>ak/2)){am=true;Z=ad;Y=ae;if(typeof N==="function"){N(aj,Z,W)}}if(ae===ah&&Y!==ah){if(typeof O==="function"){O(aj,ad,W)}}}return false};this.mouseUp=function(ab){B=false;C=false;if(!W||!V){return}if(typeof T==="function"){T(ab,Z)}if(Z!==null){if(typeof J==="function"){J(ab,Z,W)}if(typeof O==="function"){O(ab,Z,W)}}if(aa!=="self"){W.parentNode.removeChild(W)}W=null;Z=null;Y=-1};this.setDragable=function(ab,ac){if(!ab){return}if(typeof ac==="string"&&document.getElementById(ac)){ac=document.getElementById(ac)}else{if(typeof ac!=="object"){ac=ab}}F.push([ab,ac]);ac.onmousedown=function(ad){if(!V){return}ad=ad||window.event;K=I.getMousePosition(ad);H=ab;C=false;B=true;if(document.all){ad.cancelBubble=true}else{ad.preventDefault()}return false}};this.unsetDragable=function(ab,ac){if(!ab){return}if(typeof ac==="string"&&document.getElementById(ac)){ac=document.getElementById(ac)}else{if(typeof ac!=="object"){ac=ab}}ac.onmousedown=null};this.getMouseOffset=function(ae,ad){ad=ad||window.event;var ac=this.getPosition(ae);var ab=I.getMousePosition(ad);return[ab[0]-ac[0],ab[1]-ac[1]]};this.init=function(ac){if(ac.container){if(typeof ac.container==="string"){if(!document.getElementById(ac.container)){L=document.body}else{L=document.getElementById(ac.container)}}else{if(typeof ac.container==="object"){L=ac.container}}}else{L=document.body}if(typeof(ac.target)==="object"&&ac.target.length){var ae=ac.target;var ab=ae.length;for(var ad=0;ad<ab;ad++){if(typeof(ae[ad])==="string"){I.addDropTarget(document.getElementById(ae[ad]))}else{I.addDropTarget(ae[ad])}}}else{S=[]}if(typeof(ac.target)!=="undefined"){Q=ac.target}if(typeof(ac.dragStart)==="function"){G=ac.dragStart}if(typeof(ac.dragStarting)==="function"){G=ac.dragStarting}if(typeof(ac.dragStop)==="function"){T=ac.dragStop}if(typeof(ac.dropDown)==="function"){J=ac.dropDown}if(typeof(ac.dropOver)==="function"){N=ac.dropOver}if(typeof(ac.dropOut)==="function"){O=ac.dropOut}if(typeof(ac.dragRange)==="function"){D=ac.dragRange}if(typeof(ac.helper)==="function"){aa=ac.helper}else{if(typeof(ac.helper)==="string"){if(ac.helper==="clone"){aa="clone"}else{aa="self"}}else{aa="self"}}if(!isNaN(ac.zIndex)){M=parseInt(ac.zIndex)}A=!!ac.zIndexAutoAdd;if(typeof(ac.mouseAt)==="object"){X=ac.mouseAt}if(!isNaN(ac.distance)&&ac.distance-0>0){E=ac.distance}if(document.attachEvent){L.attachEvent("onmousemove",this.mouseMove);L.attachEvent("onmouseup",this.mouseUp)}else{L.addEventListener("mousemove",this.mouseMove,false);L.addEventListener("mouseup",this.mouseUp,false)}this.setEnabled(true)};this.addDropTarget=function(ab){S.push(ab)};this.setEnabled=function(ab){V=!!ab};this.destroy=function(){if(document.detachEvent){L.detachEvent("onmousemove",this.mouseMove);L.detachEvent("onmouseup",this.mouseUp)}else{L.removeEventListener("mousemove",this.mouseMove,false);L.removeEventListener("mouseup",this.mouseUp,false)}var ab;while(ab=F.shift()){this.unsetDragable(ab[0],ab[1])}this.setEnabled(false)}}function w(){var A=new b();var B=document.getElementById("box");A.setDragable(B,"dragbar");A.init({container:document,target:[document.getElementById("drag_target")],distance:5,helper:function(D){if(window.getSelection){window.getSelection().removeAllRanges()}else{document.selection.empty()}var C=D.cloneNode(true);document.body.appendChild(C);if("opacity" in C.style){C.style.opacity="0.5"}else{C.style.filter="Alpha(Opacity=50)"}return C},dropOver:function(D,E,C){E.style.border="dotted 3px #f60"},dropOut:function(D,E,C){E.style.border="dotted 1px #000"},dragRange:function(F,I,D){var C=I[0];var H=I[1];var G=document.body.offsetWidth+document.documentElement.scrollLeft-D.offsetWidth;var E=document.body.offsetHeight+document.documentElement.scrollTop-D.offsetHeight;if(C<=0){C=0}else{if(C>=G){C=G}}if(H<=0){H=0}else{if(H>=E){H=E}}return[C,H]},dragStart:function(C){document.getElementById("drag_target").style.display="block"},dragStop:function(C,D){document.getElementById("drag_target").style.display="none"},dropDown:function(E,H,D){var F=document.getElementById("box");var G=x(F,"left",true);var C=(G!=60?"left":"right");d(C)}})}function d(B){if(!B){B="right"}var D=document.getElementById("box");var A=document.getElementById("drag_target");var C=document.getElementById("f");if(B=="left"){D.style.right="auto";D.style.left="60px";A.style.left="auto";A.style.right="60px";C.style.left="auto";C.style.right="60px";setCookie("empos",1)}else{D.style.left="auto";D.style.right="60px";A.style.right="auto";A.style.left="60px";C.style.right="auto";C.style.left="60px";setCookie("empos",0)}}};